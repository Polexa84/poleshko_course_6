{% extends 'base.html' %}

{% block title %}Список сообщений{% endblock %}

{% block content %}
<div class="container">
    <h1 class="mb-4">Список сообщений (Всего: {{ message_list|length }})</h1>

    <a href="{% url 'postal_service:message_create' %}" class="btn btn-primary mb-3">
        <i class="fas fa-plus"></i> Добавить сообщение
    </a>

    <div class="list-group">
        {% for message in message_list %}
        <div class="list-group-item d-flex justify-content-between align-items-center">
            <div>
                <h5 class="mb-1">{{ message.subject }}</h5>
                <p class="mb-1 text-muted">{{ message.body|truncatechars:100 }}</p>
            </div>
            <div class="btn-group" role="group">
                <a href="{% url 'postal_service:message_update' message.pk %}"
                   class="btn btn-warning btn-sm">
                    <i class="fas fa-edit"></i> Редактировать
                </a>
                <a href="{% url 'postal_service:message_delete' message.pk %}"
                   class="btn btn-danger btn-sm">
                    <i class="fas fa-trash-alt"></i> Удалить
                </a>
            </div>
        </div>
        {% empty %}
        <div class="alert alert-info">Нет созданных сообщений</div>
        {% endfor %}
    </div>
</div>
{% endblock %}